{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "transport-badge",
  "type": "registry:ui",
  "title": "Transport badge",
  "description": "A transport badge component",
  "files": [
    {
      "path": "registry/8starlabs-ui/blocks/transport-badge.tsx",
      "content": "import React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst SYSTEMS = {\n  SG: {\n    NS: {\n      name: \"North South Line\",\n      short: \"NS\",\n      long: \"NSL\",\n      bg: \"#e22726\",\n      fg: \"#FFF\"\n    },\n    EW: {\n      name: \"East West Line\",\n      short: \"EW\",\n      long: \"EWL\",\n      bg: \"#00964e\",\n      fg: \"#FFF\"\n    },\n    NE: {\n      name: \"North East Line\",\n      short: \"NE\",\n      long: \"NEL\",\n      bg: \"#8f4299\",\n      fg: \"#FFF\"\n    },\n    CE: {\n      name: \"Circle Line\",\n      short: \"CE\",\n      long: \"CCL\",\n      bg: \"#f99d26\",\n      fg: \"#000\"\n    },\n    DT: {\n      name: \"Downtown Line\",\n      short: \"DT\",\n      long: \"DTL\",\n      bg: \"#005ea8\",\n      fg: \"#fff\"\n    },\n    TE: {\n      name: \"Thomson-East Coast Line\",\n      short: \"TE\",\n      long: \"TEL\",\n      bg: \"#9d5b26\",\n      fg: \"#FFF\"\n    }\n  },\n  // Add more systems here in the future\n  HK: {\n    // Hong Kong MTR\n    KT: {\n      name: \"Kwun Tong Line\",\n      short: \"KT\",\n      long: \"KTL\",\n      bg: \"#399e48\",\n      fg: \"#FFF\"\n    },\n    AE: {\n      name: \"Airport Express Line\",\n      short: \"AE\",\n      long: \"AEL\",\n      bg: \"#39858d\",\n      fg: \"#FFF\"\n    },\n    TO: {\n      name: \"Tseung Kwan O Line\",\n      short: \"TO\",\n      long: \"TKOL\",\n      bg: \"#7a3d90\",\n      fg: \"#000\"\n    },\n    SI: {\n      name: \"South Island Line\",\n      short: \"SI\",\n      long: \"SIL\",\n      bg: \"#c7d536\",\n      fg: \"#FFF\"\n    },\n    TW: {\n      name: \"Tsuen Wan Line\",\n      short: \"TW\",\n      long: \"TWL\",\n      bg: \"#d5371f\",\n      fg: \"#FFF\"\n    },\n    IS: {\n      name: \"Island Line\",\n      short: \"IS\",\n      long: \"ISL\",\n      bg: \"#3d6fbe\",\n      fg: \"#FFF\"\n    },\n    TC: {\n      name: \"Tung Chung Line\",\n      short: \"TC\",\n      long: \"TCL\",\n      bg: \"#e6a03e\",\n      fg: \"#000\"\n    },\n    DR: {\n      name: \"Disneyland Resort Line\",\n      short: \"DR\",\n      long: \"DRL\",\n      bg: \"#df76a4\",\n      fg: \"#000\"\n    },\n    ER: {\n      name: \"East Rail Line\",\n      short: \"ER\",\n      long: \"ERL\",\n      bg: \"#78b2e5\",\n      fg: \"#000\"\n    },\n    TM: {\n      name: \"Tuen Ma Line\",\n      short: \"TM\",\n      long: \"TML\",\n      bg: \"#913a0e\",\n      fg: \"#FFF\"\n    }\n  }\n} as const;\n\ntype SystemKey = keyof typeof SYSTEMS;\ntype BadgeSize = \"xs\" | \"sm\" | \"md\" | \"lg\";\nconst sizeClasses: Record<BadgeSize, string> = {\n  xs: \"px-1 py-0.5 text-[10px]\",\n  sm: \"px-1.5 py-0.5 text-xs\",\n  md: \"px-2 py-0.5 text-sm\",\n  lg: \"px-3 py-1 text-base\"\n};\n\ninterface TransportBadgeProps {\n  stationCode: string | string[];\n  system: SystemKey;\n  className?: string;\n  stationName?: string;\n  showStationName?: boolean;\n  size?: BadgeSize;\n}\n// Defined Linedata type\ntype LineData = {\n  name: string;\n  short: string;\n  long: string;\n  bg: string;\n  fg: string;\n} | null;\n\nconst getLineDataFromStationCode = (\n  code: string,\n  system: SystemKey\n): LineData => {\n  // Added return type LineData, so TS knows all lines share a common structure\n  const match = code.match(/^[A-Z]+/);\n  if (!match) return null;\n  const prefix = match[0] as string;\n  const lines = SYSTEMS[system] as Record<string, LineData>;\n  if (lines && prefix in lines) {\n    return lines[prefix];\n  }\n  return null;\n};\n\nexport const TransportBadge = ({\n  stationCode,\n  system,\n  className,\n  stationName,\n  showStationName = false,\n  size = \"md\"\n}: TransportBadgeProps) => {\n  const codes = Array.isArray(stationCode) ? stationCode : [stationCode];\n  const isMulti = codes.length > 1;\n\n  return (\n    <span className={cn(\"inline-flex items-center\", className)}>\n      <span className={cn(\"inline-flex\", isMulti ? \"gap-0\" : \"gap-1\")}>\n        {codes.map((code, idx) => {\n          const line = getLineDataFromStationCode(code, system);\n          if (!line) {\n            return (\n              <span\n                key={code}\n                className={cn(\n                  \"inline-flex items-center rounded font-semibold bg-gray-300 text-gray-700\",\n                  sizeClasses[size]\n                )}\n              >\n                Unknown\n              </span>\n            );\n          }\n\n          const radius = isMulti\n            ? idx === 0\n              ? \"rounded-l\"\n              : idx === codes.length - 1\n                ? \"rounded-r\"\n                : \"rounded-none\"\n            : \"rounded\";\n\n          const border =\n            isMulti && idx > 0\n              ? \"border-l border-white/40 dark:border-black/40\"\n              : \"\";\n\n          return (\n            <span\n              key={code}\n              className={cn(\n                \"inline-flex items-center font-semibold\",\n                sizeClasses[size],\n                radius,\n                border\n              )}\n              style={{\n                backgroundColor: line.bg,\n                color: line.fg\n              }}\n              title={line.name}\n            >\n              <span className=\"font-bold\">\n                {line.short}\n                {code.replace(/^[A-Z]+/, \"\")}\n              </span>\n            </span>\n          );\n        })}\n      </span>\n      {showStationName && stationName && (\n        <span\n          className={cn(\n            \"ml-2 font-medium text-slate-700 dark:text-slate-200\",\n            size === \"xs\" && \"text-[10px]\",\n            size === \"sm\" && \"text-xs\",\n            size === \"md\" && \"text-sm\",\n            size === \"lg\" && \"text-base\"\n          )}\n        >\n          {stationName}\n        </span>\n      )}\n    </span>\n  );\n};\n\nexport default TransportBadge;\n",
      "type": "registry:ui"
    }
  ]
}
